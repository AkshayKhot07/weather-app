(()=>{"use strict";async function e(e,n){const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&exclude=current,minutely,daily,alerts&appid=51f1682bb898645ed8d10bc6c17f21c1`);if(t.ok)return await t.json();t.ok}function n(e,n){return new Date(1e3*e).toLocaleString("en-US",{timeZone:n,hour:"numeric",hour12:!0})}async function t(e,n){const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&exclude=current,minutely,hourly,alerts&appid=51f1682bb898645ed8d10bc6c17f21c1`);if(t.ok)return await t.json();t.ok}function o(e,n){return new Date(1e3*e).toLocaleString("en-US",{timeZone:n,weekday:"long"})}let r=document.querySelector(".locSearchInput"),a=document.querySelector(".locSearchIcon"),i=document.querySelector(".locationDisplayText"),l=document.querySelector(".date-time"),c=document.querySelector(".current-temp-icon"),d=document.querySelector(".current-temp-display"),m=document.querySelector(".max-temp-display"),u=document.querySelector(".min-temp-display"),p=document.querySelector(".feelslike-temp"),s=document.querySelector(".weather-desp");console.log(r,a,i,l);let h=(new Date).toLocaleString("en-US",{weekday:"long",day:"numeric",month:"long",hour:"numeric",minute:"numeric",hour12:!0}).replace(",","");console.log(h);const y="51f1682bb898645ed8d10bc6c17f21c1";async function w(){let a=r.value;if(""==a)return;let h=document.querySelector(".error-display");r.value="";const w=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${a}&APPID=${y}`);if(w.ok){const r=await w.json();console.log(r),console.log(r.name),h.style.visibility="hidden";let a=await async function(e,n){const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&exclude=hourly,daily&appid=51f1682bb898645ed8d10bc6c17f21c1`);if(t.ok)return await t.json();t.ok}(r.coord.lat,r.coord.lon),y=a.timezone,f=(new Date).toLocaleString("en-US",{timeZone:y,weekday:"long",day:"numeric",month:"long",hour:"numeric",minute:"numeric",hour12:!0});console.log(f),i.innerText=r.name,l.innerText=f.replace(",","");let v=r.weather[0].icon;c.src=`http://openweathermap.org/img/w/${v}.png`,d.innerText=g(r.main.temp),m.innerText=g(r.main.temp_max),u.innerText=g(r.main.temp_min),p.innerText=g(r.main.feels_like),s.innerText=r.weather[0].main;let S=document.querySelector(".hourly-forecast");S.innerHTML="";let T=await e(r.coord.lat,r.coord.lon);console.log(T);for(let e=0;e<24;e++)S.innerHTML+=`\n      <div class="hour-day-container">\n      <div>${n(T.hourly[e].dt,T.timezone).toLocaleLowerCase()}</div>\n      <img src="http://openweathermap.org/img/w/${T.hourly[e].weather[0].icon}.png">\n      <div>${g(T.hourly[e].temp)} 째C</div>\n      </div>\n      `;let $=document.querySelector(".daily-forecast");$.innerHTML="";let x=await t(r.coord.lat,r.coord.lon);console.log(x);for(let e=0;e<x.daily.length-1;e++)$.innerHTML+=`\n    <div class="hour-day-container">\n    <div>${o(x.daily[e].dt,x.timezone)}</div>\n    <img src="http://openweathermap.org/img/w/${x.daily[e].weather[0].icon}.png">\n    <div>${g(x.daily[e].temp.day)} 째C</div>\n    </div>\n    `}else if(!w.ok)return void(h.style.visibility="visible")}function g(e){return Math.round(e-273.15)}!async function(){const r=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=Mumbai&APPID=${y}`),a=await r.json();console.log(a),console.log(a.name),i.innerText=a.name,l.innerText=h,console.log(a.weather[0].icon);let w=a.weather[0].icon;c.src=`http://openweathermap.org/img/w/${w}.png`,d.innerText=g(a.main.temp),m.innerText=g(a.main.temp_max),u.innerText=g(a.main.temp_min),p.innerText=g(a.main.feels_like),s.innerText=a.weather[0].main;let f=document.querySelector(".hourly-forecast");f.innerHTML="";let v=await e(a.coord.lat,a.coord.lon);console.log(v);for(let e=0;e<24;e++)f.innerHTML+=`\n    <div class="hour-day-container">\n    <div>${n(v.hourly[e].dt,v.timezone).toLocaleLowerCase()}</div>\n    <img src="http://openweathermap.org/img/w/${v.hourly[e].weather[0].icon}.png">\n    <div>${g(v.hourly[e].temp)} 째C</div>\n    </div>\n    `;let S=document.querySelector(".daily-forecast");S.innerHTML="";let T=await t(a.coord.lat,a.coord.lon);console.log(T);for(let e=0;e<T.daily.length-1;e++)S.innerHTML+=`\n    <div class="hour-day-container">\n    <div>${o(T.daily[e].dt,T.timezone)}</div>\n    <img src="http://openweathermap.org/img/w/${T.daily[e].weather[0].icon}.png">\n    <div>${g(T.daily[e].temp.day)} 째C</div>\n    </div>\n    `}(),r.addEventListener("search",w),a.addEventListener("click",w)})();